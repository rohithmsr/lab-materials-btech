MOV P2,#0FFH
MOV TMOD,#20H
MOV TL1,#0FAH
MOV TH1,#0FAH
MOV SCON,#50H
SETB TR1
MOV A,P2
MOV 50H,A
MOV R2,#0AH
RLC A
JNC CA
RLC A
JNC CB
RLC A
JNC CC
RLC A
JNC CD
JC CE
CA:
SJMP SEND
CB:INC R2
SJMP SEND
CC:MOV A,R2
ADD A,#02H
MOV R2,A
SJMP SEND
CD:MOV A,R2
ADD A,#03H
MOV R2,A
SJMP SEND
CE:MOV A,R2
ADD A,#04H
MOV R2,A
SJMP SEND
SEND:MOV 60H,R2
MOV DPTR,#MYDATA
LOOP:CLR A
MOVC A,@A+DPTR
MOV SBUF,A
HERE:JNB TI,HERE
CLR TI
INC DPTR
CJNE A,#'-',LOOP
MOV A,R2
ADD A,#37H
MOV 70H,A
MOV SBUF,A
STAY:JNB TI,HERE
CLR TI
HLT:SJMP HLT
MYDATA: DB "CLASS-"
